<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>PTD Today — Article</title>

  <meta name="description" content="PTD Today article view. First to Know. First to Lead.">
  <meta property="og:type" content="website"/>
  <meta property="og:site_name" content="PTD Today"/>
  <meta property="og:title" content="PTD Today — Article"/>
  <meta property="og:description" content="Open the article and source."/>
  <meta property="og:image" content="/assets/og-default.png"/>

  <link rel="stylesheet" href="/assets/main.css">
  <style>
    .article-wrap { max-width: 820px; margin: 34px auto; padding: 0 16px; }
    .hero { width:100%; height:280px; object-fit:cover; border-radius:8px; border:1px solid #d9ccb3; background:#f2eadc; }
    .back { display:inline-block; margin-top:10px; color:#143A79; }
    .meta-mini { color:#6f675d; font-size:13px; margin:6px 0 12px; }
  </style>
</head>
<body>
  <div class="article-wrap">
    <a class="back" href="/">← Back to PTD Today</a>
    <h1 id="title">PTD Today — Article</h1>
    <div class="meta-mini" id="meta"></div>
    <img id="hero" class="hero" alt="Article image"/>
    <div class="cta-row" style="margin-top:14px;">
      <a class="btn" id="open">Open Article</a>
      <a class="btn secondary" id="source" target="_blank" rel="noopener">Source</a>
      <button class="btn linkish" id="share">Share</button>
    </div>
    <p style="margin-top:14px;color:#6f675d;">You’re viewing this on PTD Today. Click <strong>Source</strong> to visit the original publisher.</p>
  </div>

  <script>
    (function(){
      const sp = new URLSearchParams(location.search);
      const u   = sp.get('u') || '/';
      const t   = sp.get('t') || 'PTD Today — Article';
      const p   = sp.get('p') || '';
      const c   = sp.get('c') || '';
      const d   = sp.get('d') || '';
      const img = sp.get('img') || '';

      const titleEl = document.getElementById('title');
      const metaEl  = document.getElementById('meta');
      const hero    = document.getElementById('hero');
      const openBtn = document.getElementById('open');
      const srcBtn  = document.getElementById('source');
      const share   = document.getElementById('share');

      titleEl.textContent = t;
      metaEl.textContent  = [c.toUpperCase(), p, d ? d.replace('T',' ').replace(/:\d\d\.\d{3}Z$/,'Z').replace(/:\d\dZ$/,'Z') : ''].filter(Boolean).join(' • ');
      hero.src = img || '/assets/og-default.png';
      openBtn.href = u;
      srcBtn.href  = u;

      share.addEventListener('click', async ()=>{
        const url = location.href;
        try {
          if (navigator.share) {
            await navigator.share({ title: t, url });
          } else {
            await navigator.clipboard.writeText(url);
            share.textContent = 'Copied';
            setTimeout(()=>share.textContent='Share', 1200);
          }
        } catch {}
      });
    })();
  </script>
</body>
</html>