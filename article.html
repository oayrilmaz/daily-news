<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PTD Today | Article</title>
  <meta name="description" content="Read this story summary on PTD Today, then continue to the original source.">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Ctext x='50%25' y='55%25' text-anchor='middle' font-size='36' font-family='Georgia,serif'%3EPTD%3C/text%3E%3C/svg%3E">
  <style>
    :root{--ink:#0c0c0c;--ink2:#444;--line:#e6e6e6;--maxw:900px}
    html,body{margin:0;color:var(--ink);font-family:ui-serif,Georgia,"Times New Roman",serif}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:0 18px}
    header{border-bottom:1px solid var(--line);padding:14px 0}
    .brand{font-size:24px;font-weight:700}
    h1{font-size:36px;line-height:1.12;margin:14px 0 10px}
    .hero{width:100%;max-height:480px;object-fit:cover;border:1px solid var(--line);display:none}
    .dek{font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink2);font-size:16px;margin:14px 0 18px}
    .meta{font-family:ui-sans-serif;color:#666;font-size:12px;margin-bottom:12px}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px}
    .btn{font-family:ui-sans-serif;border:1px solid var(--line);background:#fafafa;padding:8px 12px;border-radius:8px;cursor:pointer;font-size:14px;text-decoration:none;color:var(--ink)}
    .btn:hover{background:#f2f2f2}
    footer{border-top:1px solid var(--line);margin-top:24px;padding:18px 0 34px;color:#666;font-family:ui-sans-serif;font-size:12px}
  </style>
</head>
<body>
<header><div class="wrap"><div class="brand">PTD Today</div></div></header>

<main class="wrap">
  <div class="meta"><span id="tag">—</span> • <span id="ago">—</span></div>
  <h1 id="title">Loading…</h1>
  <img id="img" class="hero" alt="Image">
  <p id="dek" class="dek"></p>

  <div class="row">
    <a id="out" class="btn" target="_blank" rel="noopener">Read full story at the source →</a>
    <button id="share" class="btn">Share</button>
    <button id="copy" class="btn">Copy link</button>
  </div>
</main>

<footer><div class="wrap">© 2025 PTD Today. Headlines link to their original publishers.</div></footer>

<script>
  const q = new URLSearchParams(location.search);
  const title = q.get("t") ? decodeURIComponent(q.get("t")) : "PTD Today";
  const url   = q.get("u") ? decodeURIComponent(q.get("u")) : "#";
  const img   = q.get("i") ? decodeURIComponent(q.get("i")) : "";
  const dek   = q.get("d") ? decodeURIComponent(q.get("d")) : "";
  const tag   = q.get("g") ? decodeURIComponent(q.get("g")) : "news";
  const time  = q.get("p") ? decodeURIComponent(q.get("p")) : "";

  document.title = "PTD Today | " + title;
  document.getElementById("title").textContent = title;
  document.getElementById("dek").textContent   = dek;
  document.getElementById("tag").textContent   = tag.toUpperCase();
  document.getElementById("ago").textContent   = time || "";
  if (img){
    const el=document.getElementById("img"); el.src=img; el.style.display="block";
  }
  const selfURL = location.origin + location.pathname + location.search;
  const out=document.getElementById("out"); out.href=url;

  document.getElementById("share").onclick = ()=>{
    if(navigator.share){
      navigator.share({title, text: dek, url: selfURL}).catch(()=>{});
    }else{
      const u = encodeURIComponent(selfURL);
      window.open("https://www.linkedin.com/sharing/share-offsite/?url="+u, "_blank");
    }
  };
  document.getElementById("copy").onclick = async ()=>{
    try{ await navigator.clipboard.writeText(selfURL); alert("Link copied!"); }catch{}
  };
</script>
</body>
</html>
