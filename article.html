<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>PTD Today | Article</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script>
  const P = new URLSearchParams(location.search);
  const u = P.get('u') || '';
  const t = P.get('t') || 'PTD Today — Article';
  const i = P.get('i') || 'https://picsum.photos/seed/ptd-default/1200/630';
  document.write(`
    <meta property="og:title" content="${t.replace(/"/g,'&quot;')}">
    <meta property="og:description" content="Read this story summary on PTD Today, then continue to the original source.">
    <meta property="og:image" content="${i}">
    <meta property="og:url" content="${location.href}">
    <meta name="twitter:card" content="summary_large_image">
  `);
</script>
<style>
  :root{--ink:#171717;--muted:#666;--rule:#e8e8e8}
  body{margin:0;font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;color:var(--ink)}
  .wrap{max-width:860px;margin:0 auto;padding:28px}
  h1{font-weight:800;letter-spacing:.3px;font-size:30px;margin:0 0 8px}
  .meta{color:#777;margin:6px 0 18px}
  .hero{width:100%;max-height:380px;object-fit:cover;border-radius:10px;background:#f5f5f5}
  .btns{display:flex;gap:10px;flex-wrap:wrap;margin:16px 0}
  .btn{border:1px solid var(--rule);border-radius:10px;background:#fff;padding:10px 14px;font-weight:700;cursor:pointer;text-decoration:none;color:inherit}
  .btn:hover{background:#fafafa}
  .sheet{max-width:420px;margin:18px 0;border:1px solid var(--rule);border-radius:12px}
  .sheet h3{margin:10px 12px 8px}
  .share a,.share button{border-top:1px solid var(--rule);display:block;padding:14px 12px;background:#fff;border:0;text-align:left;font-weight:700;color:inherit;text-decoration:none}
  .share a:hover,.share button:hover{background:#fafafa}
</style>
</head>
<body>
<div class="wrap">
  <h1 id="ttl">PTD Today — Article</h1>
  <div class="meta"><span id="host"></span></div>
  <img id="img" class="hero" alt="">
  <div class="btns">
    <a id="toSource" class="btn" target="_blank" rel="noopener">Open source</a>
    <button id="copy" class="btn">Copy PTD link</button>
  </div>
  <div class="sheet">
    <h3>Share this article</h3>
    <div class="share">
      <a id="ln" target="_blank" rel="noopener">LinkedIn</a>
      <a id="x" target="_blank" rel="noopener">X (Twitter)</a>
      <a id="fb" target="_blank" rel="noopener">Facebook</a>
      <a id="rd" target="_blank" rel="noopener">Reddit</a>
      <button id="em">Email</button>
    </div>
  </div>
  <p style="color:#777">Note: You’re viewing this item on PTD Today for a clean preview and easy sharing. Use <em>Open source</em> to read the full article at the publisher.</p>
</div>
<script>
(function(){
  const P = new URLSearchParams(location.search);
  const u = P.get('u') || '';
  const t = P.get('t') || 'PTD Today — Article';
  const i = P.get('i') || 'https://picsum.photos/seed/ptd-default/1200/630';

  document.getElementById('ttl').textContent = t;
  document.getElementById('img').src = i;
  document.getElementById('toSource').href = u;
  try{ document.getElementById('host').textContent = new URL(u).host.replace(/^www\./,''); }catch{ }

  const encU = encodeURIComponent(location.href);
  const encT = encodeURIComponent(t);

  document.getElementById('ln').href = `https://www.linkedin.com/sharing/share-offsite/?url=${encU}`;
  document.getElementById('x').href  = `https://twitter.com/intent/tweet?url=${encU}&text=${encT}`;
  document.getElementById('fb').href = `https://www.facebook.com/sharer/sharer.php?u=${encU}`;
  document.getElementById('rd').href = `https://www.reddit.com/submit?url=${encU}&title=${encT}`;
  document.getElementById('em').onclick = () => location.href = `mailto:?subject=${encT}&body=${encU}`;
  document.getElementById('copy').onclick = async () => {
    try{ await navigator.clipboard.writeText(location.href); alert('Link copied: ' + location.href); }
    catch{ prompt('Copy link:', location.href); }
  };
})();
</script>
</body>
</html>